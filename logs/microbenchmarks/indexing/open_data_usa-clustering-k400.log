2024-02-14 10:40:15 | DEBUG   | {'input': PosixPath('data/open_data_usa/histograms.zst'), 'output': 'data/open_data_usa/clusterings/microbenchmarks/k400-b50000.zst', 'feature_output': None, 'algorithm': 'kmeans', 'n_cluster_range': [400, 400], 'bin_budget': 50000, 'transform': 'quantile', 'quantile_range': (0.25, 0.75), 'use_umap': False, 'alpha': 1.0, 'workers': 112, 'seed': 42, 'log_level': 'INFO', 'log_file': PosixPath('logs/microbenchmarks/indexing/open_data_usa-clustering-k400.log')}
2024-02-14 10:40:15 | DEBUG   | Loading histograms from data/open_data_usa/histograms.zst
2024-02-14 10:40:15 | DEBUG   | Computing features
2024-02-14 10:40:17 | DEBUG   | Computing feature clustering
2024-02-14 10:40:19 | DEBUG   | Score for 400 clusters: 123203.40953522951
2024-02-14 10:40:19 | DEBUG   | Assigning histograms to clusters
2024-02-14 10:40:19 | DEBUG   | Computing cluster bins
2024-02-14 10:40:19 | DEBUG   | Number of clusters: 400
2024-02-14 10:40:19 | DEBUG   | Histograms per cluster: [425, 113, 116, 508, 591, 212, 917, 65, 150, 154, 219, 475, 106, 950, 182, 307, 656, 198, 148, 237, 241, 145, 127, 92, 140, 42, 64, 141, 56, 33, 156, 115, 298, 215, 310, 193, 95, 203, 494, 560, 636, 81, 642, 27, 35, 107, 153, 51, 178, 234, 256, 163, 203, 1504, 33, 400, 98, 67, 82, 341, 352, 50, 157, 46, 136, 344, 126, 77, 44, 162, 294, 290, 48, 445, 28, 89, 50, 41, 52, 429, 120, 195, 43, 86, 140, 245, 487, 291, 396, 43, 142, 40, 69, 115, 115, 212, 95, 71, 81, 246, 323, 68, 110, 182, 232, 117, 164, 119, 99, 142, 51, 153, 179, 134, 91, 452, 334, 51, 204, 574, 53, 20, 78, 144, 241, 122, 121, 160, 97, 318, 106, 39, 117, 257, 128, 293, 67, 120, 224, 279, 123, 217, 264, 23, 140, 52, 65, 151, 28, 38, 23, 75, 67, 60, 47, 78, 73, 111, 82, 452, 218, 134, 138, 62, 55, 623, 300, 91, 355, 287, 107, 228, 39, 154, 43, 177, 149, 40, 430, 81, 122, 88, 94, 254, 86, 120, 401, 125, 52, 74, 89, 132, 41, 246, 22, 211, 105, 29, 556, 81, 227, 59, 223, 70, 409, 29, 168, 117, 585, 130, 178, 44, 273, 163, 421, 75, 183, 41, 85, 51, 118, 37, 226, 51, 525, 147, 70, 372, 212, 67, 64, 194, 90, 170, 178, 91, 168, 139, 40, 192, 54, 86, 68, 147, 142, 141, 134, 110, 39, 150, 71, 25, 322, 54, 92, 81, 198, 26, 305, 206, 477, 146, 31, 90, 69, 106, 94, 67, 124, 229, 46, 180, 136, 181, 210, 83, 37, 81, 127, 121, 64, 66, 37, 31, 35, 652, 383, 60, 42, 75, 158, 130, 160, 34, 150, 120, 512, 128, 110, 250, 154, 49, 190, 142, 99, 332, 181, 351, 84, 28, 55, 89, 109, 77, 62, 44, 128, 355, 256, 119, 49, 178, 455, 93, 433, 27, 90, 201, 351, 47, 316, 260, 113, 258, 471, 85, 133, 35, 132, 46, 70, 149, 198, 79, 309, 178, 133, 139, 74, 84, 101, 24, 90, 169, 156, 183, 379, 105, 144, 75, 248, 140, 169, 126, 79, 115, 93, 34, 106, 253, 162, 376, 222, 45, 286, 135, 73, 259, 198, 79, 151, 224, 83, 106, 121, 20, 121, 106, 407, 212, 148, 132, 104, 93, 31, 380, 164, 58, 101, 69]
2024-02-14 10:40:19 | DEBUG   | Bins per cluster: [309, 82, 85, 370, 430, 154, 667, 48, 109, 112, 160, 346, 77, 692, 133, 224, 478, 144, 108, 173, 176, 106, 93, 67, 102, 31, 47, 103, 41, 24, 114, 84, 217, 157, 226, 141, 69, 148, 360, 408, 463, 59, 467, 20, 26, 78, 112, 37, 130, 171, 187, 119, 148, 1095, 24, 291, 72, 49, 60, 248, 256, 37, 114, 34, 99, 251, 92, 56, 32, 118, 214, 211, 35, 324, 21, 65, 37, 30, 38, 312, 88, 142, 32, 63, 102, 179, 355, 212, 288, 32, 104, 29, 50, 84, 84, 154, 69, 52, 59, 179, 235, 50, 80, 133, 169, 85, 120, 87, 72, 104, 37, 112, 130, 98, 66, 329, 243, 37, 149, 418, 39, 15, 57, 105, 176, 89, 88, 117, 71, 232, 77, 29, 85, 187, 93, 213, 49, 88, 163, 203, 90, 158, 192, 17, 102, 38, 48, 110, 21, 28, 17, 55, 49, 44, 34, 57, 53, 81, 60, 329, 159, 98, 101, 45, 40, 454, 219, 66, 259, 209, 78, 166, 29, 112, 32, 129, 109, 29, 313, 59, 89, 64, 69, 185, 63, 88, 292, 91, 38, 54, 65, 96, 30, 179, 16, 154, 77, 21, 405, 59, 165, 43, 162, 51, 298, 21, 122, 85, 426, 95, 130, 32, 199, 119, 307, 55, 133, 30, 62, 37, 86, 27, 165, 37, 382, 107, 51, 271, 154, 49, 47, 141, 66, 124, 130, 66, 122, 101, 29, 140, 40, 63, 50, 107, 104, 103, 98, 80, 29, 109, 52, 18, 235, 40, 67, 59, 144, 19, 222, 150, 347, 106, 23, 66, 50, 77, 69, 49, 90, 167, 34, 131, 99, 132, 153, 61, 27, 59, 93, 88, 47, 48, 27, 23, 26, 475, 279, 44, 31, 55, 115, 95, 117, 25, 109, 88, 373, 93, 80, 182, 112, 36, 138, 104, 72, 242, 132, 256, 61, 21, 40, 65, 80, 56, 45, 32, 93, 259, 187, 87, 36, 130, 331, 68, 315, 20, 66, 146, 256, 34, 230, 189, 82, 188, 343, 62, 97, 26, 96, 34, 51, 109, 144, 58, 225, 130, 97, 101, 54, 61, 74, 18, 66, 123, 114, 133, 276, 77, 105, 55, 181, 102, 123, 92, 58, 84, 68, 25, 77, 184, 118, 274, 162, 33, 208, 98, 53, 189, 144, 58, 110, 163, 61, 77, 88, 15, 88, 77, 296, 154, 108, 96, 76, 68, 23, 277, 120, 42, 74, 50]
2024-02-14 10:40:19 | DEBUG   | Cluster ranges: (0, 6.62e+06), (1.09, 50), (6, 1.125e+05), (0, 735), (0, 9), (2, 98.7), (568.86, 7690), (101, 972), (2100, 1.0466e+14), (1, 2008), (0, 59.2), (0, 6510), (4661, 40117), (1, 6), (-9.3523e+06, 1.6982e+06), (0, 111), (-123.03, 0.6757), (1, 9216), (5, 29), (0, 36574), (0.0001, 1.8655), (1, 100), (5.3, 3878), (-1e+06, 1122), (10101, 1.5878e+05), (1000, 4184), (0, 46), (6, 1031), (-100, 89), (0.01, 2.9469e+05), (20, 178), (7.59, 100), (0, 0.529), (1, 336), (0, 29), (1, 63), (-9999, 15961), (22, 49580), (0, 350), (0, 8.5784e+05), (37.305, 47.088), (76, 1e+05), (0, 2010.8), (42001, 7.0424e+06), (-8.8791e+07, 11), (16, 7738), (5.29, 44.1), (-862, 425.24), (517, 7018), (-1.4216e+09, 3.58e+09), (45, 704), (0, 83.5), (2014, 9.809e+05), (0, 1), (-100, 1), (6.6086e+05, 9e+15), (1.5964, 47771), (1.0701, 4.9), (1, 1.579e+05), (1, 28), (0, 190), (6, 40), (7.2534e+05, 5.2131e+07), (1.1, 1.0704e+08), (5.79, 92.3), (0, 1.1947e+05), (28, 94.4), (-3221, 4221.7), (2.004e+05, 2.1468e+09), (38652, 9.9198e+05), (0, 2015), (1, 849), (-86.949, 7), (0, 3603), (9.05, 243), (5.4, 66.3), (0, 6118), (890, 2052), (16.75, 4.7885e+08), (0, 36), (58, 213), (63, 59869), (11354, 2.0101e+05), (0, 5.59), (1.12, 3780), (0.001, 5.8), (1, 21), (1, 43), (0, 5.463e+07), (26896, 1.0134e+05), (10108, 9.7396e+06), (1, 2.63e+08), (42000, 2.0211e+05), (1.25, 772.8), (1.1, 29), (0, 74), (1.3309, 11668), (2, 197), (0.0078, 49.17), (0, 11693), (1, 3515), (0, 229), (1, 91), (0.9, 10), (1.06, 21.31), (29.6, 349), (0, 5), (0, 16), (37.968, 7196), (4111, 34222), (1.1, 38), (12, 30876), (2, 100), (56, 9999), (9, 96.4), (0, 1.8), (0, 105), (1, 94), (0, 10), (0, 990), (0.04, 94), (-6.6667e+08, 71), (-34265, 66660), (4.8, 108), (0, 43), (10.59, 66.67), (1.05, 90.1), (0, 19.8), (1.1, 82.6), (0.15, 1), (1.36, 3.4916e+05), (5532, 28860), (5.37, 2020), (1, 61), (2476, 45152), (0, 94.5), (20, 84), (983, 2027), (106, 32010), (0, 40.886), (10, 94.59), (1, 13227), (2040, 39733), (0.7, 48), (70403, 1.0443e+06), (1.1, 90), (141, 928), (11, 412), (-138.28, 0), (13, 2004), (-3.292e+08, 5939), (1419, 3810), (5.29, 40.89), (9, 61.05), (0, 68), (1.1, 21.1), (610, 5563), (1.0479, 2021), (0.002, 75.7), (0.0004, 0.998), (147, 7.3012e+05), (15, 3.2538e+05), (10688, 3.8544e+05), (0, 19), (0.02, 560), (0, 492), (0, 54.5), (-1166, 2014), (0, 255), (0, 8.9526e+15), (0.8, 17), (2.0006e+06, 3.6061e+14), (-100.45, 37.6), (8, 9991), (-1157.1, 90), (1.24, 1157), (-124.67, 0.908), (1, 99), (0, 2019), (44, 2007), (26501, 1.4781e+05), (0.94, 49054), (104, 4.4631e+08), (1, 495), (1.3215e+06, 2.021e+13), (0.0017, 18.8), (0, 9100), (1, 150), (-123.12, 3.02), (108, 5298), (1, 1926), (14, 96127), (0.001, 1726.1), (0, 94.79), (0.8, 17), (0, 61581), (11, 200.8), (0.0001, 1.2311e+09), (0, 4), (0.0028, 31.1), (1, 218), (0, 40), (420, 70730), (80, 18923), (0, 3.7508e+05), (-6.6667e+08, 583), (1982, 1.2506e+05), (1.7, 18), (0, 1325), (1, 83), (42.16, 152.5), (0, 11470), (0, 81.4), (14, 738.74), (1, 3), (-1e+06, 1.4171e+05), (-6.6667e+08, 5.2606e+06), (0.001, 273.8), (1, 4.391e+06), (-2, 8), (0, 19), (22, 94.34), (5343, 25699), (90.912, 723), (1.1745e+05, 2.0191e+13), (1.09, 6450), (6, 4.3189e+06), (0, 19.2), (1, 1316), (1194, 6151.8), (-1057, 995), (21661, 2.254e+06), (10.5, 50), (0, 95), (527, 11570), (10, 67.2), (14, 1987), (1.3, 17), (0.01, 18885), (1930, 3.8789e+06), (-122.51, 199), (43, 3744.5), (6358, 19403), (28.7, 72.8), (1, 109), (1.12, 26058), (5.59, 49265), (75, 1254), (1, 87), (1.01, 7), (30001, 4.6562e+05), (-2250, 0), (0, 68.9), (42001, 1.0901e+06), (48, 1.1415e+05), (0.02, 142.65), (2.0183e+05, 1.242e+08), (2, 1712), (1, 5465), (150, 90971), (0, 1.951e+06), (50, 2.73e+05), (0, 54504), (1.3, 99999), (940, 8108), (4, 154), (1.9291e+07, 2.0211e+13), (0, 882), (1.1, 54.8), (2.2, 98.4), (76, 1880), (63087, 8.5648e+05), (5.09, 12.2), (16, 95), (3.1608e+05, 2.0221e+07), (1.06, 395), (0, 95), (5, 78.9), (10.6, 80.2), (5.3, 35), (37, 4.9542e+14), (5.1, 355), (-46, 64.94), (-7.99, 10.93), (6, 900), (0, 241), (0, 0.999), (0, 11.09), (449, 1160), (101, 904), (5.2, 96), (1, 97203), (2615, 94229), (3, 1.1111e+10), (1, 82), (6, 687), (1.07e+05, 7.5899e+07), (4, 65), (6, 3.739e+05), (1, 34), (5.09, 99), (0, 38), (55848, 6.8045e+05), (241, 1.7825e+05), (5.18, 8897), (0, 19713), (49, 15978), (0, 2994), (130, 2019), (0.001, 4278.6), (-5000, 9579), (1111, 18700), (1, 4.6535e+05), (3, 44.39), (1, 14), (-30.08, 35), (100, 4.465e+06), (29917, 5.7391e+08), (0, 114), (0, 6), (12, 457), (0, 76.9), (0, 1.8889e+05), (16, 3852.7), (1, 10), (1.19, 40.39), (1.2, 131.6), (1, 17), (0, 122), (38.3, 842), (0, 31.8), (1, 1064), (1.6, 43.1), (0, 22), (0, 5054), (1108.5, 4218), (10, 107.4), (1, 1.1111e+15), (1, 23217), (3, 70), (2, 449), (-7.5512e+05, 5.5736e+05), (2.4, 97.8), (41, 1119), (0, 25471), (0, 67), (5.4787, 19567), (41, 26728), (1.1, 11), (43, 35302), (7, 215), (0.2, 40), (1.2, 172), (-3.7211e+07, 9.9996e+07), (357, 45756), (1, 2008), (0, 471), (10.3, 40.7), (1, 41), (2013, 11435), (0, 41661), (6, 5669), (2007, 2.0185e+08), (1, 81), (32, 1.1787e+06), (-24332, 31074), (9.1, 122), (-1e+06, 18381), (5, 82), (1, 61), (0, 78.5), (0.0001, 0.539), (0, 83102), (0.2, 153.4), (0, 94.7), (41, 6000), (11, 41), (1, 598), (0, 153.6), (0, 34), (364, 50005), (0, 87.5), (22.19, 94.83), (20, 11434), (1.1, 90.4), (-9998, 999), (1961, 2.6755e+05), (2287, 81870), (0, 1.0429e+09), (0, 10), (2055, 44828), (-1.9999e+10, 8.7422e+15), (0, 11), (0, 56.7), (2, 2220), (0, 12075), (11, 1419), (3.4, 93.7), (5, 88.3), (-421.8, 42)
2024-02-14 10:40:19 | DEBUG   | Uniform bin widths: 21424, 0.5965, 1323.5, 1.9865, 0.0209, 0.6279, 10.676, 18.146, 9.6019e+11, 17.92, 0.37, 18.815, 460.47, 0.0072, 83086, 0.4955, 0.2588, 63.993, 0.2222, 211.41, 0.0106, 0.934, 41.642, 14942, 1457.7, 102.71, 0.9787, 9.9515, 4.6098, 12279, 1.386, 1.1001, 0.0024, 2.1338, 0.1283, 0.4397, 376.23, 334.85, 0.9722, 2102.5, 0.0211, 1693.6, 4.3058, 3.5002e+05, 3.415e+06, 99, 0.3465, 34.79, 50.008, 2.9249e+07, 3.5241, 0.7017, 6614.1, 0.0009, 4.2083, 3.0928e+13, 663.46, 0.0782, 2631.7, 0.1089, 0.7422, 0.9189, 4.5093e+05, 3.1482e+06, 0.8738, 475.96, 0.7217, 132.91, 6.7081e+07, 8079.1, 9.4159, 4.019, 2.6843, 11.12, 11.14, 0.9369, 165.35, 38.733, 1.2601e+07, 0.1154, 1.7614, 421.17, 5926.6, 0.0887, 37.048, 0.0324, 0.0563, 0.1981, 1.8969e+05, 2326.3, 93553, 9.069e+06, 3202.2, 9.1851, 0.3321, 0.4805, 169.08, 3.75, 0.8333, 65.324, 14.953, 4.58, 1.125, 0.0684, 0.1198, 3.7576, 0.0417, 0.1839, 99.417, 289.53, 0.9973, 275.57, 0.7538, 101.46, 1.3242, 0.0055, 0.4321, 2.5135, 0.0671, 2.3684, 2.4092, 4.4444e+07, 1770.6, 0.9829, 0.2443, 0.6301, 1.0119, 0.1692, 1.1479, 0.0037, 4534.5, 804.41, 23.701, 0.3209, 458.88, 0.4437, 1.3061, 11.864, 195.73, 0.2014, 0.9399, 83.709, 196.32, 2.7824, 9548, 2.3395, 16.396, 3.6455, 6.5849, 71.107, 1.9365e+07, 43.473, 0.7265, 1.183, 2, 0.3509, 93.453, 24.938, 1.2616, 0.003, 4591, 3320.1, 3710.4, 0.4222, 14, 1.0837, 0.2489, 48.182, 0.9846, 4.2835e+13, 0.2077, 2.1723e+12, 4.7602, 89.134, 38.972, 8.9594, 1.1521, 3.3793, 6.4505, 33.271, 1363, 766.45, 6.4683e+06, 2.6703, 3.208e+11, 0.2136, 31.164, 1.6374, 3.3196, 96.111, 29.615, 1001.2, 57.537, 0.5296, 1.0125, 399.88, 2.4649, 5.8623e+07, 0.0099, 0.5271, 1.3152, 0.9302, 434.01, 369.47, 1258.7, 3.1746e+07, 1008.8, 0.1918, 3.1103, 0.8632, 0.8488, 358.44, 0.409, 6.0903, 0.0065, 20758, 5.0521e+06, 9.1266, 70823, 0.2703, 0.2209, 2.6793, 123.37, 17.083, 5.2856e+10, 60.27, 84685, 0.0708, 8.539, 101.18, 43.66, 15833, 0.5985, 0.7661, 84.946, 0.8667, 16.172, 0.1554, 651.22, 27692, 8.0378, 58.753, 260.9, 0.4121, 1.0385, 252.98, 502.65, 14.737, 2.9655, 0.055, 8377.4, 125, 0.2932, 26202, 1703, 2.4175, 8.6113e+05, 90, 24.613, 605.47, 5622.3, 2575, 2369.8, 1515.1, 143.36, 1.9481, 2.9291e+11, 18, 0.5967, 0.576, 53.059, 6056.5, 0.0718, 0.5985, 1.3009e+05, 6.458, 3.5185, 1.2525, 0.7484, 0.3375, 1.0541e+13, 7.2896, 4.1089, 0.8226, 34.385, 0.5074, 0.0036, 0.252, 22.935, 14.6, 0.7896, 1023.2, 783.03, 4.4444e+08, 0.7431, 7.7386, 2.0319e+05, 0.6559, 4673.7, 0.1813, 0.8385, 1.0556, 4526.1, 1711.6, 123.5, 81.459, 120.67, 11.695, 30.967, 203.74, 364.48, 270.6, 5816.9, 0.7391, 0.2889, 2.0338, 48010, 2.2157e+06, 0.6096, 0.069, 12.361, 0.5915, 570.65, 56.422, 0.0286, 1.96, 1.9758, 0.1096, 0.4766, 23.638, 0.1383, 5.6243, 0.5061, 0.117, 14.735, 50.153, 1.0041, 4.2735e+13, 241.83, 1.9706, 8.7647, 12041, 0.6625, 18.586, 113.2, 0.5154, 201.67, 264.23, 0.1833, 578.02, 2.8108, 2.2111, 2.5879, 1.1155e+06, 398.24, 15.09, 1.7065, 0.3948, 0.381, 171.31, 230.17, 55.52, 1.6411e+06, 0.8696, 20322, 659.6, 1.6603, 40735, 1, 0.3261, 0.6653, 0.002, 512.98, 4.6424, 0.4553, 60.806, 0.566, 3.1587, 1.0667, 0.5862, 451.28, 0.5368, 1.1908, 148.23, 1.0148, 733.13, 3018.1, 1033.5, 3.5234e+06, 0.0649, 396.05, 9.1065e+13, 0.1447, 0.8338, 96.435, 43.592, 11.733, 2.15, 1.1257, 9.276
2024-02-14 10:40:19 | DEBUG   | Predicted (rebinning) index size: 93.86 MB
2024-02-14 10:40:19 | INFO    | Clustered 68313 histograms into 400 clusters in 3.94s
2024-02-14 10:40:19 | TRACE   | total_time, 3.9449070002883673
2024-02-14 10:40:19 | DEBUG   | Saving output
2024-02-14 10:40:20 | DEBUG   | Saved clustering to data/open_data_usa/clusterings/microbenchmarks/k400-b50000.zst
