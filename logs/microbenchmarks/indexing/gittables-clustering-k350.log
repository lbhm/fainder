2024-05-08 18:56:19 | DEBUG   | {'input': PosixPath('data/gittables/histograms.zst'), 'output': 'data/gittables/clusterings/microbenchmarks/k350-b50000.zst', 'feature_output': None, 'algorithm': 'kmeans', 'n_cluster_range': [350, 350], 'bin_budget': 50000, 'transform': 'quantile', 'quantile_range': (0.25, 0.75), 'use_umap': False, 'alpha': 1.0, 'workers': 112, 'seed': 42, 'log_level': 'INFO', 'log_file': PosixPath('logs/microbenchmarks/indexing/gittables-clustering-k350.log')}
2024-05-08 18:56:19 | DEBUG   | Loading histograms from data/gittables/histograms.zst
2024-05-08 18:56:53 | DEBUG   | Computing features
2024-05-08 18:58:09 | DEBUG   | Computing feature clustering
2024-05-08 18:58:19 | DEBUG   | Score for 350 clusters: 9075560.723294875
2024-05-08 18:58:19 | DEBUG   | Assigning histograms to clusters
2024-05-08 18:58:20 | DEBUG   | Computing cluster bins
2024-05-08 18:58:38 | DEBUG   | Number of clusters: 350
2024-05-08 18:58:38 | DEBUG   | Histograms per cluster: [30293, 18850, 40166, 20704, 15703, 18673, 7694, 5879, 11177, 10312, 17379, 5790, 31530, 50128, 23113, 19250, 6780, 13628, 25999, 10819, 15403, 18604, 20297, 7038, 5453, 5550, 5469, 2465, 13121, 15379, 20136, 10756, 12214, 24780, 12049, 31248, 8968, 20940, 18493, 20025, 12672, 8472, 15692, 30498, 7302, 5467, 6395, 46065, 13087, 6320, 3649, 18318, 12546, 8665, 15459, 22425, 44969, 6595, 9602, 20078, 3691, 14214, 136852, 9463, 25354, 15540, 20878, 9632, 21717, 3005, 19577, 10370, 12750, 34175, 3851, 14953, 13297, 12014, 9259, 49790, 7410, 36721, 48306, 16411, 17380, 17836, 23791, 4852, 6219, 5245, 15827, 15203, 13473, 6733, 16315, 6461, 15605, 4917, 9087, 5041, 15751, 11943, 12657, 7997, 5715, 21358, 29998, 13442, 10045, 16047, 5745, 21974, 4876, 5630, 11446, 22613, 12461, 22328, 3032, 19362, 10686, 19141, 9592, 9311, 13229, 23982, 31019, 29886, 7692, 11224, 6164, 13889, 25337, 13199, 8755, 7589, 14676, 2296, 9789, 5093, 32200, 19786, 5512, 27698, 10574, 3467, 25944, 6929, 19172, 10469, 14832, 14718, 21865, 7390, 11379, 34410, 11928, 9347, 3907, 49456, 11763, 5986, 6138, 16469, 30464, 19674, 15177, 20864, 32908, 9842, 8229, 7300, 1765, 6567, 8676, 21550, 14825, 20255, 10951, 11721, 7864, 12743, 19482, 9270, 7161, 15350, 7702, 10044, 11984, 20226, 19951, 11208, 11785, 13345, 26936, 5707, 7492, 14119, 20800, 6200, 18491, 5831, 11145, 10619, 25019, 5578, 15659, 15742, 4119, 8436, 14250, 3965, 6750, 5653, 15374, 8924, 19091, 2810, 24111, 2503, 5560, 23501, 18112, 12713, 10038, 20235, 7955, 17796, 11928, 6161, 17042, 7073, 5187, 42946, 7603, 5867, 16789, 3642, 14047, 4530, 8093, 11520, 13921, 3559, 8821, 7037, 5331, 2664, 6878, 44036, 8215, 7508, 11898, 6870, 14972, 20521, 7610, 17216, 2365, 19743, 7227, 7265, 11777, 6962, 13737, 12470, 13444, 30208, 6125, 11534, 29489, 14145, 23069, 10176, 11009, 16491, 15033, 25558, 4412, 27987, 6151, 6896, 15149, 6560, 7194, 5807, 15626, 8934, 10342, 4116, 25847, 20941, 10046, 12852, 21158, 19000, 2460, 14318, 10528, 15795, 7132, 9837, 12833, 21496, 25728, 6211, 19235, 19057, 11344, 5513, 3863, 22042, 13295, 2651, 10465, 16106, 3100, 6359, 12066, 4750, 17906, 9005, 4563, 17891, 30918, 19113, 9619, 4177, 23413, 11937, 20403, 9486, 8164, 17323, 7435, 12441, 4674, 7706, 21785, 9911, 16154, 10832, 18588, 3946, 5487, 12556, 2863, 14779, 14169, 19690]
2024-05-08 18:58:38 | DEBUG   | Bins per cluster: [301, 187, 400, 206, 156, 186, 76, 58, 111, 102, 173, 57, 314, 499, 230, 191, 67, 135, 259, 107, 153, 185, 202, 70, 54, 55, 54, 24, 130, 153, 200, 107, 121, 246, 120, 311, 89, 208, 184, 199, 126, 84, 156, 303, 72, 54, 63, 459, 130, 62, 36, 182, 125, 86, 154, 223, 448, 65, 95, 200, 36, 141, 1363, 94, 252, 154, 208, 95, 216, 29, 195, 103, 127, 340, 38, 149, 132, 119, 92, 496, 73, 365, 481, 163, 173, 177, 237, 48, 61, 52, 157, 151, 134, 67, 162, 64, 155, 49, 90, 50, 156, 119, 126, 79, 56, 212, 298, 133, 100, 159, 57, 218, 48, 56, 114, 225, 124, 222, 30, 192, 106, 190, 95, 92, 131, 238, 309, 297, 76, 111, 61, 138, 252, 131, 87, 75, 146, 22, 97, 50, 320, 197, 54, 275, 105, 34, 258, 69, 191, 104, 147, 146, 217, 73, 113, 342, 118, 93, 38, 492, 117, 59, 61, 164, 303, 196, 151, 207, 327, 98, 82, 72, 17, 65, 86, 214, 147, 201, 109, 116, 78, 126, 194, 92, 71, 152, 76, 100, 119, 201, 198, 111, 117, 132, 268, 56, 74, 140, 207, 61, 184, 58, 111, 105, 249, 55, 156, 156, 41, 84, 141, 39, 67, 56, 153, 88, 190, 28, 240, 24, 55, 234, 180, 126, 100, 201, 79, 177, 118, 61, 169, 70, 51, 427, 75, 58, 167, 36, 139, 45, 80, 114, 138, 35, 87, 70, 53, 26, 68, 438, 81, 74, 118, 68, 149, 204, 75, 171, 23, 196, 72, 72, 117, 69, 136, 124, 133, 301, 61, 114, 293, 140, 229, 101, 109, 164, 149, 254, 43, 278, 61, 68, 150, 65, 71, 57, 155, 89, 103, 41, 257, 208, 100, 128, 210, 189, 24, 142, 104, 157, 71, 98, 127, 214, 256, 61, 191, 189, 113, 54, 38, 219, 132, 26, 104, 160, 30, 63, 120, 47, 178, 89, 45, 178, 308, 190, 95, 41, 233, 118, 203, 94, 81, 172, 74, 123, 46, 76, 217, 98, 160, 107, 185, 39, 54, 125, 28, 147, 141, 196]
2024-05-08 18:58:38 | DEBUG   | Cluster ranges: (2.2127e+05, 5.4612e+05), (0, 39.8), (0, 0.9999), (0, 175), (1.0766e+07, 1.2552e+09), (44, 206), (5.0829e+06, 9.9731e+08), (6.2, 50.71), (-4182, 2.8557), (-517, 150), (1.01, 1955), (0.0001, 17.866), (21, 2.551e+06), (0, 2), (432.99, 2.8546e+05), (0, 41.8), (0, 3.0586e+06), (7.8918e+05, 1.6287e+06), (2.6288e+06, 4.6007e+06), (-65.569, 24.8), (5, 180.3), (-2.6817e+14, 1), (0.0035, 3.1), (0.0001, 84.6), (-14, 0.9991), (0, 5.99), (-1.51e+12, 1.6268e+06), (1.2355e+09, 1.7388e+12), (0, 85), (0.0001, 1), (0, 15.8), (1.4882e+09, 2.6801e+12), (10031, 5.8289e+05), (1.0027e+07, 1.2728e+09), (-253.5, 105.19), (0, 10.911), (-176.06, 4.9419), (6.3234e+05, 1.2915e+06), (69, 9.6023e+05), (0, 388), (3.3806e+06, 8.0595e+06), (1, 6), (0, 15), (6.744e+06, 1.0554e+07), (0, 32), (3.47e+05, 8.6976e+14), (-4815.5, 4688.5), (0, 2.9901), (8, 440.47), (158.75, 1.1809e+05), (1.3809e+09, 1.197e+15), (1.01, 37.25), (73, 25338), (0.0001, 183.62), (0, 88), (0, 93), (7.8531e+06, 1.2869e+09), (-102.7, 56.934), (55, 199), (0.0001, 32), (-9.2234e+14, 4.5879e+15), (0, 22), (0, 1), (46219, 5.3506e+05), (1.2407e+09, 1.2988e+09), (1.6259e+06, 3.5614e+06), (0, 121.1), (0.0001, 14.995), (0, 5), (1.4552e+09, 1.1971e+15), (41269, 5.4167e+05), (8993, 7.6322e+05), (0.0001, 45), (1.3069e+09, 1.582e+12), (0.012, 39), (0, 31.6), (0.0001, 839.97), (0, 102.6), (3, 55), (0, 1), (0, 6445), (0.2, 6), (0, 0.483), (-1.51e+12, 3.9712e+05), (36.989, 375), (-2394, 0.4945), (0, 240), (0.0001, 1.2542e+06), (0.21, 97), (-26.778, 23), (0, 75), (5.4219e+05, 1.323e+06), (1.6291e+06, 3.1675e+06), (323.31, 1.8372e+05), (5.0803e+06, 1.0797e+07), (0, 15.8), (54, 4846), (0.0078, 10), (-100, 155), (38.027, 106.98), (-1988, 1000), (-2.3105e+11, 1.2861e+09), (8.3311e+05, 1.6459e+06), (1.1, 90), (1.773e+05, 1.5556e+06), (1.1877e+06, 2.5126e+06), (0, 4.4966), (4.2161e+06, 8.6223e+06), (0, 20), (4, 274), (4.0863e+05, 7.6025e+06), (5, 69), (0.0001, 13175), (-17.933, 4.993), (0.0001, 2.2297), (9.1921e+06, 1.2474e+09), (1.01, 30), (8.7194e+05, 1.6681e+06), (-5935.9, 30.3), (0, 36), (73.3, 359), (0, 9.986), (1.6, 21), (266.04, 14393), (0, 117.5), (0, 19.753), (1.3441e+09, 9.7803e+12), (0, 521), (-91.609, 36), (2.1832e+05, 8.1134e+05), (1991, 2.5054e+05), (55, 1.2758e+09), (1.3479e+09, 8.9961e+15), (1.5995e+06, 3.3995e+06), (-55.3, 83), (1.4265e+09, 1.3626e+12), (1.0062, 40518), (-10003, 1), (73.44, 167.64), (0, 8.992e+15), (1.2361e+09, 1.3085e+09), (0, 54), (1.03, 8.32), (7.6882e+06, 9.8745e+08), (1.128, 118), (0.04, 24), (1.1, 7), (0.0157, 23), (0.0001, 0.4284), (6.4267e+06, 1.174e+09), (0, 60), (0, 22), (0, 7), (-31062, 31839), (0.0001, 90.284), (0, 4), (13.3, 132.1), (0.0001, 5), (1.7707e+06, 1.2342e+09), (0, 1.33), (0, 2.5168), (0, 16), (0, 7.1002), (1.0008, 525.24), (1.7336e+06, 3.1479e+06), (0, 1556.4), (0.0001, 3933), (0, 31.115), (3.1552e+06, 6.9539e+06), (2300, 2.849e+05), (-133.62, 236), (1.6291e+06, 5.4276e+06), (-1e+13, 103), (-333.14, 63.9), (2.0455e+06, 1.252e+09), (0, 43.1), (0, 100), (19376, 4.62e+06), (0, 108.6), (41.4, 507), (9.9732, 39.285), (5.5843e+05, 1.157e+06), (445, 2.6239e+05), (-41.987, 28), (0.0001, 1), (0, 54.8), (1.755e+06, 7.967e+15), (0.0001, 120), (1.0667, 1.6148e+06), (0, 10.8), (0, 55.327), (5888, 3.9759e+05), (2.3188e+05, 8.3412e+05), (6.7855e+06, 9.9731e+08), (1.7711e+06, 3.4418e+06), (-8.6402e+08, 5), (3.1058e+06, 9.2556e+06), (6.9699e+06, 1.2346e+09), (50.33, 253), (13413, 1.4298e+06), (0, 69), (1.0001, 18.81), (0, 1.751e+05), (0, 16.5), (1.211e+09, 1.2745e+09), (0, 35.7), (6.9431e+05, 2.2449e+06), (0, 177), (1, 8.9612), (0, 4.5), (0.2, 11), (1, 53), (-357.4, 0.363), (192, 38011), (1.8849e+05, 8.5197e+05), (0.0001, 255), (0, 100), (0.0001, 136), (0, 340), (-11.843, 18), (4, 7.1676e+15), (8.6479e+06, 1.2491e+09), (0, 163.9), (1.01, 5324), (-61.5, 122), (8237, 2.8734e+05), (1.02, 182), (1920.7, 1.1626e+05), (4.027e+05, 1.0233e+06), (0.0001, 19.915), (402, 9.24e+05), (2.4242, 76.472), (0.1162, 57), (0, 3), (71580, 8.2176e+05), (1.0003, 12.99), (0.0001, 0.9999), (-2873, 3), (0, 20), (1.0002, 109), (-4024.8, 93.9), (21.08, 105.93), (67, 74075), (-22.118, 4), (1.6195e+06, 4.9808e+06), (7e+05, 2.2212e+06), (212.61, 69156), (-148.38, 14), (1.9095e+05, 1.1525e+06), (0, 0.893), (-71.6, 5004), (0, 5.6), (169.42, 12860), (5.448e+05, 3.1884e+06), (4.7147e+05, 1.5e+06), (0.0001, 27.636), (1, 500), (-128.47, 0.9976), (0.0004, 24.08), (0, 9.6), (190, 8972), (1.0001, 14), (-282.96, 402), (1.2608e+09, 1.3626e+12), (0, 3870.7), (1.01, 51.55), (1.604e+06, 2.9612e+06), (1.3368e+09, 3.9136e+12), (0, 21.432), (1.0001, 7), (1.2703e+09, 1.3441e+09), (3.4521e+05, 9.076e+05), (0, 44), (350, 2.0198e+05), (1.0011, 286), (7.8466e+05, 1.6295e+06), (0, 27.6), (0, 6.4027), (-9.0226e+11, 7.6885e+06), (3.9989e+06, 7.7958e+06), (0.0008, 27.1), (70.001, 885.43), (0, 11), (37, 2.4155e+07), (0, 10.3), (24, 7445), (0, 16.54), (-39.3, 54), (3.0329e+06, 7.5405e+06), (1.0001, 150), (2.9188e+06, 5.4712e+06), (0, 0.309), (0, 39), (0, 29.694), (0.0003, 7), (0, 0.9994), (-1.4563e+09, 1198.2), (0, 21584), (0.0001, 388), (0, 116), (-3.6703e+06, 4), (32.225, 91.9), (32, 1165), (0, 8.43), (108.2, 507.17), (4.9005e+06, 1.2701e+09), (0, 66.7), (0, 174), (0.0001, 60), (0.0001, 6), (-4.8239e+08, 0.7588), (0, 0.4), (9.2142e+05, 1.6295e+06), (4.7542e+06, 1.1857e+09), (0, 5), (0, 79), (1.4166e+09, 1.197e+15), (1.3211e+09, 3.631e+14), (2.5724e+06, 4.8209e+06), (1.0026, 24.791), (0, 64), (1.3578e+09, 1.5664e+14), (-10, 1.99), (6, 238.86), (1.2716e+09, 1.3372e+09), (1.596e+06, 1.0212e+07), (54.1, 525.35), (-190.48, 44), (4.0615e+05, 8.9475e+05), (2.6212e+06, 5.0422e+06), (1.0822e+06, 1.9502e+06), (2.1459e+06, 7.184e+06), (-134.24, 84.5), (1.6006e+09, 2.2005e+15), (0, 4.37), (0.0001, 136), (0, 1789), (5264, 5.2711e+05), (8.9769e+06, 1.2454e+09), (1.8151e+05, 5.7008e+05), (0, 22.969), (30.035, 99.96), (0, 60), (1, 19), (-4538.8, 198.3), (0, 18), (0.0001, 4.7838e+15), (0, 25.6), (95803, 6.8431e+05), (0, 14.627)
2024-05-08 18:58:38 | DEBUG   | Uniform bin widths: 1079.3, 0.2128, 0.0025, 0.8495, 7.977e+06, 0.871, 1.3056e+07, 0.7674, 37.701, 6.5392, 11.295, 0.3134, 8124, 0.004, 1239.2, 0.2188, 45651, 6218.6, 7613.6, 0.8446, 1.1458, 1.4496e+12, 0.0153, 1.2086, 0.2778, 0.1089, 2.7963e+10, 7.2398e+10, 0.6538, 0.0065, 0.079, 2.5033e+10, 4734.4, 5.1332e+06, 2.9891, 0.0351, 2.0337, 3169, 5218.3, 1.9497, 37134, 0.0595, 0.0962, 12574, 0.4444, 1.6107e+13, 150.86, 0.0065, 3.3267, 1902.1, 3.325e+13, 0.1991, 202.12, 2.1351, 0.5714, 0.417, 2.855e+06, 2.4559, 1.5158, 0.16, 1.5306e+14, 0.156, 0.0007, 5200.5, 2.3044e+05, 12568, 0.5822, 0.1578, 0.0231, 4.1279e+13, 2566.1, 7322.5, 0.3543, 4.6492e+09, 1.026, 0.2121, 6.3634, 0.8622, 0.5652, 0.002, 88.288, 0.0159, 0.001, 9.2638e+09, 1.9538, 13.528, 1.0127, 26129, 1.5867, 0.9573, 0.4777, 5171.3, 11481, 2737.2, 35291, 0.2469, 30.916, 0.2039, 2.8333, 1.379, 19.154, 1.9524e+09, 6450.4, 1.1253, 24612, 6249.4, 0.0151, 33129, 0.2, 1.6981, 1.2621e+05, 0.2936, 274.48, 0.4094, 0.0196, 5.5032e+06, 0.2338, 3586.1, 198.87, 0.1875, 2.6953, 0.0526, 0.2042, 153.55, 0.8969, 0.083, 3.1647e+10, 1.7542, 1.6791, 5342.5, 4074.5, 9.2448e+06, 3.5699e+13, 13741, 1.5897, 1.8149e+10, 277.52, 454.73, 0.9712, 1.7984e+14, 2.2639e+05, 0.2741, 0.135, 3.5628e+06, 1.1131, 0.7047, 0.0229, 0.3331, 0.0022, 1.1227e+07, 0.4082, 0.1507, 0.0323, 861.66, 0.799, 0.0117, 1.0068, 0.0538, 3.2433e+07, 0.0027, 0.0215, 0.2712, 0.1164, 3.1966, 4667.9, 7.9408, 26.046, 0.1503, 11617, 2883.7, 4.5076, 52757, 5.8824e+11, 6.1083, 1.4534e+07, 0.2014, 0.6803, 22889, 0.9963, 4.0138, 0.3758, 4750.7, 1350.2, 0.7607, 0.0141, 0.3605, 1.0483e+14, 1.2, 13570, 0.0537, 0.2794, 3528.9, 5147.4, 7.504e+06, 6234.1, 1.5429e+07, 83106, 8.7686e+06, 0.9791, 23219, 0.375, 0.3071, 1577.5, 0.1571, 2.5502e+05, 0.6491, 9939.4, 1.1346, 0.1942, 0.0536, 0.0766, 1.3333, 5.3397, 675.34, 4336.5, 2.8977, 0.5263, 4.8571, 1.4167, 1.2435, 1.3032e+14, 5.3013e+06, 0.9106, 42.246, 1.835, 1388.6, 2.2909, 646, 5259.6, 0.3265, 5465.1, 1.0578, 1.1154, 0.007, 10002, 0.2067, 0.006, 79.889, 0.1439, 2.4, 51.484, 0.7443, 536.29, 0.7462, 38635, 21731, 1300.8, 6.2453, 14141, 0.002, 62.662, 0.0757, 107.55, 38876, 6903.1, 0.1355, 6.6533, 0.7571, 1.0469, 0.049, 121.97, 0.1806, 5.8543, 1.973e+10, 28.461, 0.4076, 10204, 1.2998e+10, 0.3513, 0.0526, 2.5169e+05, 4017, 0.1921, 1996.3, 2.6147, 5151.4, 0.1852, 0.0252, 2.0983e+10, 13658, 0.4442, 11.992, 0.0733, 3.7161e+05, 0.1451, 130.19, 0.1067, 1.0483, 43762, 3.6341, 9931.3, 0.0015, 0.39, 0.232, 0.0333, 0.0053, 6.0681e+07, 152, 3.7308, 0.7389, 51695, 0.6089, 8.9213, 0.0394, 1.5585, 2.0742e+07, 0.3492, 0.9206, 0.531, 0.1111, 1.2694e+07, 0.0018, 5364.4, 4.5422e+07, 0.0481, 0.4938, 3.99e+13, 5.7635e+12, 18738, 0.5061, 0.3596, 1.76e+12, 0.2664, 1.3082, 2.1317e+05, 45349, 4.9605, 5.7191, 2097, 20517, 4276.1, 53597, 2.7005, 1.2794e+13, 0.0591, 1.1057, 38.891, 6866.4, 5.6977e+06, 3965, 0.1436, 0.6535, 0.3243, 0.4615, 87.724, 0.144, 1.7085e+14, 0.1741, 4173.8, 0.0746
2024-05-08 18:58:38 | DEBUG   | Predicted (rebinning) index size: 6891.35 MB
2024-05-08 18:58:38 | INFO    | Clustered 5017619 histograms into 350 clusters in 105.26s
2024-05-08 18:58:38 | TRACE   | total_time, 105.26465352624655
2024-05-08 18:58:38 | DEBUG   | Saving output
2024-05-08 18:59:51 | DEBUG   | Saved clustering to data/gittables/clusterings/microbenchmarks/k350-b50000.zst
