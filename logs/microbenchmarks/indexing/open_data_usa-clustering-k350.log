2024-02-14 10:38:02 | DEBUG   | {'input': PosixPath('data/open_data_usa/histograms.zst'), 'output': 'data/open_data_usa/clusterings/microbenchmarks/k350-b50000.zst', 'feature_output': None, 'algorithm': 'kmeans', 'n_cluster_range': [350, 350], 'bin_budget': 50000, 'transform': 'quantile', 'quantile_range': (0.25, 0.75), 'use_umap': False, 'alpha': 1.0, 'workers': 112, 'seed': 42, 'log_level': 'INFO', 'log_file': PosixPath('logs/microbenchmarks/indexing/open_data_usa-clustering-k350.log')}
2024-02-14 10:38:02 | DEBUG   | Loading histograms from data/open_data_usa/histograms.zst
2024-02-14 10:38:02 | DEBUG   | Computing features
2024-02-14 10:38:04 | DEBUG   | Computing feature clustering
2024-02-14 10:38:06 | DEBUG   | Score for 350 clusters: 123227.03594799308
2024-02-14 10:38:06 | DEBUG   | Assigning histograms to clusters
2024-02-14 10:38:06 | DEBUG   | Computing cluster bins
2024-02-14 10:38:06 | DEBUG   | Number of clusters: 350
2024-02-14 10:38:06 | DEBUG   | Histograms per cluster: [499, 117, 117, 685, 591, 228, 917, 69, 157, 166, 301, 510, 141, 950, 218, 325, 656, 199, 190, 381, 304, 145, 144, 111, 167, 42, 70, 187, 75, 37, 164, 152, 298, 255, 334, 271, 119, 210, 523, 573, 636, 97, 644, 27, 35, 166, 191, 51, 200, 388, 254, 264, 222, 1504, 33, 409, 96, 67, 82, 348, 413, 65, 158, 45, 162, 391, 133, 83, 33, 161, 294, 346, 48, 454, 30, 157, 55, 41, 58, 456, 120, 220, 43, 110, 139, 258, 487, 374, 486, 43, 141, 40, 69, 119, 119, 308, 95, 83, 81, 486, 320, 71, 128, 183, 234, 130, 179, 145, 102, 148, 51, 158, 196, 149, 114, 472, 354, 86, 204, 619, 52, 20, 107, 175, 247, 137, 149, 337, 128, 579, 108, 39, 116, 477, 173, 335, 68, 120, 218, 299, 150, 217, 308, 134, 133, 62, 64, 201, 28, 39, 57, 75, 66, 70, 49, 79, 73, 112, 83, 491, 215, 140, 209, 71, 55, 710, 299, 91, 373, 483, 116, 231, 47, 212, 75, 179, 149, 65, 431, 80, 147, 86, 98, 363, 88, 120, 435, 125, 52, 143, 91, 135, 41, 303, 49, 323, 129, 25, 556, 81, 241, 86, 496, 72, 426, 30, 217, 120, 601, 200, 178, 44, 264, 178, 421, 85, 285, 41, 85, 51, 118, 90, 229, 52, 516, 147, 70, 364, 254, 75, 64, 193, 111, 350, 214, 92, 247, 142, 40, 194, 57, 84, 68, 169, 142, 141, 140, 133, 56, 150, 72, 25, 278, 54, 276, 81, 199, 44, 306, 22, 514, 179, 31, 92, 69, 140, 94, 69, 158, 225, 55, 201, 139, 201, 206, 104, 38, 119, 134, 133, 68, 316, 36, 31, 30, 705, 383, 69, 42, 78, 159, 130, 187, 37, 160, 131, 512, 141, 109, 250, 188, 59, 191, 172, 187, 401, 198, 351, 97, 28, 101, 99, 109, 88, 62, 52, 135, 350, 261, 153, 51, 261, 518, 120, 433, 31, 87, 209, 399, 48, 318, 301, 126, 254, 491, 85, 153, 35, 134, 60, 76, 158, 220, 80, 361, 163, 133, 158, 74, 84]
2024-02-14 10:38:06 | DEBUG   | Bins per cluster: [364, 85, 85, 499, 431, 166, 668, 50, 115, 121, 219, 372, 103, 692, 159, 237, 478, 145, 139, 278, 222, 106, 105, 81, 122, 31, 51, 136, 55, 27, 120, 111, 217, 186, 243, 198, 87, 153, 381, 417, 463, 71, 469, 20, 26, 121, 139, 37, 146, 283, 185, 192, 162, 1095, 24, 298, 70, 49, 60, 254, 301, 48, 115, 33, 118, 285, 97, 61, 24, 117, 214, 252, 35, 331, 22, 115, 40, 30, 42, 332, 88, 160, 32, 80, 101, 188, 355, 273, 354, 32, 103, 29, 50, 87, 87, 225, 69, 61, 59, 354, 233, 52, 93, 133, 171, 95, 131, 106, 75, 108, 37, 115, 143, 109, 83, 344, 258, 63, 149, 451, 38, 15, 78, 128, 180, 100, 109, 246, 93, 422, 79, 29, 85, 348, 126, 244, 50, 88, 159, 218, 109, 158, 225, 98, 97, 45, 47, 147, 21, 29, 42, 55, 48, 51, 36, 58, 53, 82, 61, 358, 157, 102, 152, 52, 40, 517, 218, 66, 272, 352, 85, 168, 34, 155, 55, 131, 109, 48, 314, 58, 107, 63, 72, 265, 64, 88, 317, 91, 38, 104, 66, 99, 30, 221, 36, 235, 94, 18, 405, 59, 176, 63, 361, 53, 310, 22, 158, 88, 438, 146, 130, 32, 192, 130, 307, 62, 208, 30, 62, 37, 86, 66, 167, 38, 376, 107, 51, 265, 185, 55, 47, 141, 81, 255, 156, 67, 180, 104, 29, 141, 42, 61, 50, 123, 104, 103, 102, 97, 41, 109, 53, 18, 203, 40, 201, 59, 145, 32, 223, 16, 375, 131, 23, 67, 50, 102, 69, 50, 115, 164, 40, 147, 101, 147, 150, 76, 28, 87, 98, 97, 50, 230, 26, 23, 22, 514, 279, 50, 31, 57, 116, 95, 136, 27, 117, 96, 373, 103, 80, 182, 137, 43, 139, 125, 136, 292, 144, 256, 71, 21, 74, 72, 80, 64, 45, 38, 99, 255, 190, 112, 37, 190, 377, 88, 316, 23, 64, 152, 291, 35, 232, 219, 92, 185, 358, 62, 112, 26, 98, 44, 56, 115, 160, 58, 263, 119, 97, 115, 54, 61]
2024-02-14 10:38:06 | DEBUG   | Cluster ranges: (0, 9.8462e+06), (1.09, 50), (6, 1.125e+05), (0, 682), (0, 9), (2, 97.8), (568.86, 7690), (101, 995), (2100, 1.0466e+14), (1, 2008), (0, 63.2), (0, 6817), (3973, 40117), (1, 6), (-6.6667e+08, 2.2286e+06), (0, 111), (-123.03, 0.6757), (1, 9216), (5.3, 34), (0, 43222), (0.0001, 1.8194), (1, 100), (5.3, 4030), (-1e+05, 1122), (2231, 1.5878e+05), (1000, 4184), (0, 50), (6, 1168), (-135.7, 75.35), (0.01, 5.2156e+05), (18.7, 178), (7.09, 100), (0, 0.529), (1, 372), (0, 28.6), (1, 62), (-15940, 22987), (22, 49580), (0, 365), (0, 8.78e+05), (37.305, 47.088), (76, 1.1618e+05), (0, 2010.8), (42001, 7.0424e+06), (-8.8791e+07, 11), (17, 10534), (6, 44.1), (-999, 425.24), (517, 8000), (-1.9999e+10, 8.7422e+15), (41, 625), (0, 88), (2014, 8.4458e+05), (0, 1), (-100, 1), (2.1435e+06, 9e+15), (1.5964, 45987), (1.0701, 4.9), (1, 1.579e+05), (1, 29), (0, 181), (6, 43.29), (7.2534e+05, 5.2131e+07), (1.1, 1.0704e+08), (5.59, 93.2), (0, 1.0598e+05), (27.27, 94.4), (-3221, 4656), (2.01e+05, 2.1125e+08), (38652, 3.0453e+05), (0, 2015), (1, 800), (-86.949, 7), (0, 3625.5), (9.05, 240), (5.09, 72.4), (0, 7213), (890, 2052), (20, 1.1732e+08), (0, 36), (58, 213), (64, 57371), (11354, 2.0101e+05), (0, 5), (1.12, 3780), (0.001, 5.8), (1, 21), (1, 46), (0, 2.0178e+08), (26896, 2.0211e+05), (13805, 9.7396e+06), (1, 2.63e+08), (42000, 2.0211e+05), (1.25, 772.8), (1.1, 29.6), (0, 77.7), (1.3309, 11668), (4, 265), (0.0078, 49.17), (0, 13271), (1, 3515), (0, 230), (1, 91), (0.8, 10), (1.06, 21.31), (26.288, 345), (0, 6.2), (0, 16), (37.968, 7339), (4111, 34222), (1.1, 38), (12, 30876), (3, 100), (42, 9999), (6.2, 96.4), (0, 1.98), (0, 114.77), (1, 94), (0, 10), (0, 990), (0.04, 94), (-6.6667e+08, 71), (-34265, 54092), (5, 131.6), (0, 43.497), (10.59, 62.71), (1.05, 90), (0, 19.8), (1.1, 90.4), (0.0001, 0.999), (1.36, 5.0928e+05), (5532, 28860), (5.37, 2020), (1, 64), (2476, 48898), (0, 94.79), (20, 84), (983, 2027), (106, 34409), (0, 40.898), (10, 94.7), (1, 13227), (2040, 37503), (1, 2017), (70403, 1.0443e+06), (1.1, 90), (141, 928), (6, 403), (-138.28, 0), (9, 2004), (-3.292e+08, 18381), (1419, 3810), (5.29, 41.39), (9, 66.5), (0, 74), (1.1, 21.1), (504.25, 5563), (1.0479, 2021), (0.002, 77), (0.0004, 0.998), (199, 7.3012e+05), (15, 4.6475e+05), (2049, 2.8603e+05), (0, 21), (0.02, 560), (0, 492), (0, 53), (-1166, 2014), (0, 258), (0, 8.9526e+15), (0.8, 20), (2.0006e+06, 3.6061e+14), (-100.45, 41.3), (6, 9999), (-1157.1, 84.1), (1.24, 1157), (-124.67, 0.908), (0.2, 153.4), (0, 2019), (44, 2007), (23175, 1.4781e+05), (0.94, 49054), (104, 6e+08), (1, 558), (1.1389e+06, 2.021e+13), (0.0017, 18.8), (0, 9903), (1, 150), (-123.12, 3.02), (47, 5298), (1, 1926), (14, 96127), (0.001, 1726.1), (0, 94.7), (0.2, 40), (0, 69994), (11, 200.8), (0.0001, 1.2311e+09), (0, 4), (0.0028, 31.1), (1, 220), (0, 40), (420, 71339), (144, 18923), (0, 3.7508e+05), (-6.6667e+08, 643), (2051, 1.2506e+05), (1.7, 18), (0, 1325), (1, 84), (42.16, 152.5), (0, 11470), (0, 84.79), (12.61, 706), (1, 3), (-1e+06, 1.4171e+05), (-3.7211e+07, 4.0163e+07), (0.001, 273.8), (1, 4.391e+06), (-2, 8), (0, 19), (22, 94.83), (4224, 25699), (90.912, 723), (99070, 2.0191e+13), (1.09, 6567.2), (6, 3.2437e+06), (0, 19.77), (1, 1459), (1194, 6151.8), (-1057, 995), (21661, 2.254e+06), (10, 50), (0, 94.9), (569.2, 11570), (9, 67.7), (12, 1987), (1.1, 17), (0.01, 18885), (1875, 3.8789e+06), (-500, 199), (43, 3764.3), (6358, 19403), (21.2, 72.8), (1, 109), (1.12, 26058), (5.59, 49265), (61, 1254), (1, 87), (1.01, 7), (30001, 4.0017e+05), (-2250, 0), (0, 66.59), (42001, 1.0901e+06), (55, 1.21e+05), (0.02, 142.65), (2.0183e+05, 1.242e+08), (2, 2009), (1, 5465), (8.2591e+05, 2.1468e+09), (0, 2.2263e+06), (41, 8.7496e+05), (0, 54504), (1.3, 99999), (940, 8108), (1.2, 172), (1.9291e+07, 2.0211e+13), (0, 882), (1.1, 63.6), (2.2, 99.1), (56, 1905), (43513, 8.397e+05), (5.09, 14.8), (13.19, 97), (2.3675e+05, 2.0221e+07), (1.06, 350), (0, 95), (4, 81.79), (9, 80.2), (5.3, 36.9), (37, 4.9542e+14), (0, 75.14), (-35.5, 85), (-7.99, 10.93), (6, 995), (0, 243), (0, 0.999), (0, 14), (449, 1160), (101, 917), (5.2, 97.4), (1, 97203), (2250, 77942), (3, 1.1111e+10), (1, 82), (6, 687), (1.07e+05, 7.5899e+07), (3, 66.7), (6, 3.2829e+05), (1, 35), (5.09, 99), (0, 41), (55848, 6.8045e+05), (112, 1.7825e+05), (6, 6442), (0, 19713), (40, 15136), (0, 2994), (102, 2019), (0.001, 4278.6), (-5000, 11654), (1111, 19180), (1, 4.6535e+05), (3, 45.79), (1, 14), (-47.47, 35), (88, 4.465e+06), (40020, 5.7391e+08), (0, 114), (0, 9), (12, 457), (0, 77), (0, 1.8889e+05), (17, 4662), (1, 10), (1.19, 43), (1.2, 127.8), (1, 17), (0, 133), (38.3, 842), (0, 32), (1, 1063), (1.6, 43.1), (0, 20.3), (0, 5139), (1108.5, 4218), (10, 119.1), (1, 1.1111e+15), (1, 23217), (4, 80), (2, 449), (-7.5512e+05, 5.7146e+05), (1.2, 97), (21, 1250.5), (0, 27837), (2044.5, 1.2781e+08), (5.4787, 19567), (41, 26728), (1.1, 11), (43, 35584)
2024-02-14 10:38:06 | DEBUG   | Uniform bin widths: 27050, 0.5754, 1323.5, 1.3667, 0.0209, 0.5771, 10.66, 17.88, 9.101e+11, 16.587, 0.2886, 18.325, 350.91, 0.0072, 4.2069e+06, 0.4684, 0.2588, 63.552, 0.2065, 155.47, 0.0082, 0.934, 38.331, 1248.4, 1283.2, 102.71, 0.9804, 8.5441, 3.8373, 19317, 1.3275, 0.837, 0.0024, 1.9946, 0.1177, 0.3081, 447.44, 323.91, 0.958, 2105.5, 0.0211, 1635.2, 4.2875, 3.5002e+05, 3.415e+06, 86.917, 0.2741, 38.493, 51.253, 3.0891e+13, 3.1568, 0.4583, 5201, 0.0009, 4.2083, 3.0201e+13, 656.93, 0.0782, 2631.7, 0.1102, 0.6013, 0.7769, 4.4701e+05, 3.2436e+06, 0.7425, 371.86, 0.6921, 129.13, 8.7939e+06, 2272.5, 9.4159, 3.1706, 2.6843, 10.953, 10.498, 0.5853, 180.32, 38.733, 2.7934e+06, 0.1084, 1.7614, 358.17, 5926.6, 0.0625, 37.415, 0.0308, 0.0563, 0.1648, 5.7e+05, 5475.4, 94425, 9.069e+06, 3202.2, 8.8684, 0.3276, 0.3453, 169.08, 4.2787, 0.8333, 37.489, 15.081, 4.4231, 0.9677, 0.0692, 0.1184, 3.3549, 0.0473, 0.1509, 97.347, 278.81, 0.9973, 268.38, 0.6783, 91.349, 1.0867, 0.0058, 0.4448, 1.4762, 0.0671, 2.1951, 2.4726, 4.4444e+07, 1132.8, 0.9891, 0.2416, 0.5212, 0.8161, 0.0805, 0.9602, 0.0024, 6446.6, 804.41, 23.701, 0.181, 368.43, 0.3885, 1.28, 11.864, 215.74, 0.1876, 0.7771, 83.709, 157.61, 20.571, 10040, 1.9756, 16.745, 2.7007, 6.5849, 68.793, 7.8385e+06, 43.473, 0.7521, 1.1275, 2.0556, 0.3448, 95.448, 24.634, 1.2623, 0.0028, 4649.2, 4556.2, 1868.3, 0.4038, 14, 0.9516, 0.2431, 48.182, 0.9485, 2.5433e+13, 0.2259, 2.1465e+12, 4.169, 64.471, 22.567, 8.8226, 1.1521, 3.1917, 6.4299, 33.845, 1164.8, 778.62, 8.3333e+06, 2.1019, 3.1579e+11, 0.2136, 31.24, 1.6374, 3.3196, 50.49, 29.167, 970.84, 57.537, 0.4285, 1.1056, 297.85, 2.0191, 6.8394e+07, 0.0099, 0.5271, 1.2443, 0.6349, 196.45, 354.32, 1209.9, 3.0303e+07, 778.53, 0.1852, 3.0251, 0.5685, 0.8488, 358.44, 0.4416, 5.3338, 0.0065, 18415, 3.7199e+05, 9.1266, 70823, 0.2703, 0.2209, 1.1035, 128.59, 16.634, 5.3699e+10, 61.365, 63601, 0.0746, 7.8811, 90.142, 43.66, 15833, 0.4938, 0.3722, 70.518, 0.8761, 10.972, 0.1529, 651.22, 27496, 16.643, 61.005, 260.9, 0.4195, 1.0385, 252.98, 482.94, 12.299, 2.0976, 0.055, 6984.3, 125, 0.328, 26202, 601.72, 2.4175, 8.5519e+05, 62.719, 24.502, 1.3412e+08, 5936.8, 6678.8, 2369.8, 1492.5, 143.36, 1.6745, 2.9291e+11, 17.64, 0.5435, 0.5909, 46.225, 5416.3, 0.0961, 0.5701, 1.3323e+05, 4.5913, 3.3929, 0.8941, 0.7265, 0.3258, 9.9083e+12, 0.3267, 4.6346, 0.8226, 44.955, 0.4728, 0.0036, 0.28, 22.935, 14.316, 0.7948, 1023.2, 556.56, 4.1152e+08, 0.6923, 7.0938, 2.0319e+05, 0.6184, 4103.6, 0.1868, 0.6855, 0.9535, 4493.5, 1425.1, 47.324, 67.51, 104.83, 11.695, 27, 203.74, 225.05, 250.96, 5816.9, 0.6686, 0.2889, 2.1703, 45100, 2.2505e+06, 0.6, 0.0804, 12.027, 0.4053, 501.03, 52.784, 0.0285, 1.8178, 1.9781, 0.1053, 0.457, 22.963, 0.1379, 4.8493, 0.4511, 0.1097, 14.355, 50.153, 0.9741, 4.2735e+13, 236.9, 1.7273, 7.9821, 11536, 0.5988, 21.198, 105.84, 1.0741e+06, 201.67, 232.06, 0.1833, 582.64
2024-02-14 10:38:06 | DEBUG   | Predicted (rebinning) index size: 104.68 MB
2024-02-14 10:38:06 | INFO    | Clustered 68313 histograms into 350 clusters in 3.73s
2024-02-14 10:38:06 | TRACE   | total_time, 3.72767480276525
2024-02-14 10:38:06 | DEBUG   | Saving output
2024-02-14 10:38:07 | DEBUG   | Saved clustering to data/open_data_usa/clusterings/microbenchmarks/k350-b50000.zst
