2024-02-14 10:35:47 | DEBUG   | {'input': PosixPath('data/open_data_usa/histograms.zst'), 'output': 'data/open_data_usa/clusterings/microbenchmarks/k300-b50000.zst', 'feature_output': None, 'algorithm': 'kmeans', 'n_cluster_range': [300, 300], 'bin_budget': 50000, 'transform': 'quantile', 'quantile_range': (0.25, 0.75), 'use_umap': False, 'alpha': 1.0, 'workers': 112, 'seed': 42, 'log_level': 'INFO', 'log_file': PosixPath('logs/microbenchmarks/indexing/open_data_usa-clustering-k300.log')}
2024-02-14 10:35:47 | DEBUG   | Loading histograms from data/open_data_usa/histograms.zst
2024-02-14 10:35:47 | DEBUG   | Computing features
2024-02-14 10:35:49 | DEBUG   | Computing feature clustering
2024-02-14 10:35:51 | DEBUG   | Score for 300 clusters: 123796.18240671797
2024-02-14 10:35:51 | DEBUG   | Assigning histograms to clusters
2024-02-14 10:35:51 | DEBUG   | Computing cluster bins
2024-02-14 10:35:51 | DEBUG   | Number of clusters: 300
2024-02-14 10:35:51 | DEBUG   | Histograms per cluster: [505, 238, 122, 691, 591, 347, 917, 113, 308, 327, 323, 806, 170, 1127, 304, 572, 656, 222, 189, 626, 297, 149, 292, 111, 174, 40, 105, 213, 86, 37, 183, 179, 294, 277, 526, 271, 164, 254, 567, 707, 636, 224, 649, 26, 35, 204, 197, 53, 207, 402, 277, 353, 238, 1504, 34, 405, 97, 67, 170, 440, 411, 41, 154, 51, 165, 571, 130, 89, 33, 212, 298, 466, 74, 811, 63, 166, 267, 75, 149, 605, 120, 258, 43, 177, 138, 257, 796, 387, 485, 46, 154, 70, 70, 139, 151, 390, 97, 148, 81, 696, 318, 71, 131, 208, 234, 137, 178, 163, 117, 178, 56, 183, 319, 254, 130, 472, 579, 86, 276, 621, 52, 20, 158, 217, 295, 141, 154, 338, 157, 582, 108, 39, 124, 477, 182, 404, 82, 166, 322, 366, 200, 262, 354, 287, 143, 76, 68, 220, 28, 42, 57, 81, 70, 74, 64, 88, 83, 114, 82, 496, 228, 142, 218, 75, 52, 742, 344, 93, 420, 483, 116, 272, 44, 281, 79, 191, 149, 65, 457, 115, 216, 133, 131, 411, 88, 120, 560, 125, 52, 162, 89, 155, 52, 356, 50, 484, 133, 25, 556, 81, 243, 93, 296, 103, 572, 30, 213, 118, 592, 200, 192, 46, 418, 176, 430, 117, 308, 45, 95, 50, 118, 92, 200, 54, 541, 152, 74, 441, 336, 78, 64, 203, 108, 348, 239, 128, 261, 174, 56, 197, 55, 161, 66, 169, 142, 144, 178, 178, 55, 150, 72, 25, 361, 54, 295, 82, 378, 44, 316, 22, 538, 172, 31, 108, 73, 162, 96, 69, 179, 300, 60, 206, 140, 218, 204, 137, 43, 129, 139, 144, 78, 49, 50, 31, 36, 762, 387, 80, 44, 91, 187, 159, 227, 50, 153, 135, 543, 149, 116, 329]
2024-02-14 10:35:51 | DEBUG   | Bins per cluster: [368, 174, 89, 504, 431, 253, 668, 83, 225, 239, 236, 588, 124, 822, 222, 417, 478, 162, 138, 456, 217, 109, 213, 81, 127, 29, 77, 155, 63, 27, 134, 131, 214, 202, 384, 198, 120, 185, 413, 515, 464, 163, 473, 19, 26, 149, 144, 39, 151, 293, 202, 257, 174, 1096, 25, 295, 71, 49, 124, 321, 300, 30, 112, 37, 120, 416, 95, 65, 24, 155, 217, 340, 54, 591, 46, 121, 195, 55, 109, 441, 88, 188, 32, 129, 101, 188, 580, 282, 354, 34, 112, 51, 51, 102, 110, 284, 71, 108, 59, 507, 232, 52, 96, 152, 171, 100, 130, 119, 85, 130, 41, 134, 233, 185, 95, 344, 422, 63, 201, 453, 38, 15, 115, 158, 215, 103, 112, 247, 115, 424, 79, 29, 91, 348, 133, 295, 60, 121, 235, 267, 146, 191, 258, 209, 104, 56, 50, 161, 21, 31, 42, 59, 51, 54, 47, 64, 61, 83, 60, 362, 166, 104, 159, 55, 38, 541, 251, 68, 306, 352, 85, 198, 32, 205, 58, 139, 109, 48, 333, 84, 158, 97, 96, 300, 64, 88, 408, 91, 38, 118, 65, 113, 38, 260, 37, 353, 97, 18, 405, 59, 177, 68, 216, 75, 417, 22, 155, 86, 432, 146, 140, 34, 305, 128, 314, 85, 225, 33, 69, 37, 86, 67, 146, 40, 394, 111, 54, 322, 245, 57, 47, 148, 79, 254, 174, 94, 190, 127, 41, 144, 40, 118, 48, 123, 104, 105, 130, 130, 40, 110, 53, 18, 263, 40, 215, 60, 276, 32, 231, 16, 392, 126, 23, 79, 53, 118, 70, 51, 131, 219, 44, 150, 102, 159, 149, 100, 32, 94, 102, 105, 57, 36, 37, 23, 26, 556, 282, 59, 32, 67, 137, 116, 166, 37, 112, 99, 396, 109, 85, 240]
2024-02-14 10:35:51 | DEBUG   | Cluster ranges: (0, 9.8462e+06), (1.09, 49.6), (6, 1.032e+05), (0, 682), (0, 9), (2, 98.7), (568.86, 7690), (42, 995), (2100, 1.0466e+14), (1, 2008), (0, 63), (0, 6080.4), (2018, 39659), (1, 8), (-9.3523e+06, 1.6982e+06), (0, 127), (-123.03, 0.6757), (1, 9883), (5.3, 34), (0, 37787), (0.0001, 1.8194), (1, 100), (5.3, 5417), (-1e+05, 1122), (2231, 1.5538e+05), (788.43, 4184), (0, 46), (6, 1168), (-135.7, 85), (0.01, 5.2156e+05), (15.38, 154.7), (6.79, 100), (0, 0.522), (1, 378), (0, 30), (1, 62), (-11677, 18048), (20, 39670), (0, 362), (0, 8.2136e+05), (37.305, 47.088), (106, 2.0078e+05), (0, 2000), (42001, 7.0424e+06), (-8.8791e+07, 11), (16, 8565), (5.33, 44.1), (-999, 425.24), (517, 8000), (-1.9999e+10, 8.7422e+15), (41, 704), (0, 86.59), (2014, 9.9022e+05), (0, 1), (-100, 1), (6.6086e+05, 9e+15), (1.5964, 45987), (1.0701, 4.9), (1, 3.645e+05), (1, 25), (0, 181), (5.4, 49.5), (7.2534e+05, 5.2131e+07), (1.1, 4.2e+09), (5.5, 93.2), (0, 1.3476e+05), (27.27, 92.73), (-3221, 5444.9), (2.01e+05, 2.1125e+08), (33264, 3.0453e+05), (0, 2056), (1, 953), (-30.08, 19.72), (0, 3863), (10, 381), (5.09, 72.4), (0, 9482.4), (1000, 2052), (37, 8.1079e+06), (0, 35), (58, 213), (50.65, 59803), (11354, 2.0101e+05), (0, 6.7), (1.12, 3780), (0.001, 5.8), (1, 21), (1, 46), (0, 2.0178e+08), (26896, 2.0211e+05), (11200, 1.068e+07), (1, 1.1111e+15), (42000, 2.0211e+05), (1.25, 700), (1.1, 33), (0, 77), (1.3309, 11668), (2.6, 204.6), (0.0078, 49.17), (0, 19713), (1, 3507), (0, 230), (1, 91), (0.8, 10), (1.06, 21.31), (25, 373), (0, 6), (0, 18), (37.968, 8549), (4111, 34222), (1.1, 38), (10, 24697), (1.7, 99.4), (42, 13212), (6.2, 96.4), (0, 1.98), (0, 112), (1, 94), (0, 10.9), (0, 990), (0.04, 94), (-6.6667e+08, 71), (-34265, 58385), (2.4, 131.6), (0, 42), (10.59, 62.71), (1.05, 93.75), (0, 19.8), (1.1, 90.4), (0.0001, 0.999), (1.36, 5.0928e+05), (5532, 28860), (5.37, 2117), (1, 64), (2420, 48898), (0, 94.79), (19, 85.1), (983, 4218), (56, 29316), (0, 40.898), (10.09, 99), (1, 17865), (1901, 37503), (314, 50003), (70403, 1.0443e+06), (1.1, 90), (130, 951), (6.25, 403), (-138.28, 0), (9, 2105), (-3.292e+08, 18381), (1419, 3810), (5.29, 41.39), (7.81, 70.5), (0, 62.5), (1.1, 20), (242, 5563), (1.0479, 2021), (0.002, 75.7), (0.0004, 0.998), (121, 1.0213e+06), (15, 4.6475e+05), (2049, 3.0018e+05), (0, 23), (0.02, 650.32), (0, 485), (0, 54.5), (-1166, 2014), (0, 254), (0, 8.9526e+15), (0.8, 20), (2.0006e+06, 3.6061e+14), (-100.45, 40.3), (6, 11946), (-1157.1, 84.1), (1.24, 1157), (-124.67, 0.908), (0.2, 153.4), (0, 2069), (44, 2277), (38920, 6.8045e+05), (0.94, 39000), (210, 6e+08), (1, 592), (1.1389e+06, 2.021e+13), (0.0017, 18.8), (0, 9998), (1, 150), (-123.12, 3.02), (47, 6211), (1, 1926), (15, 96127), (0.001, 2316.5), (0, 94.79), (0.2, 40), (0, 72919), (9, 185.11), (0.0001, 1.2311e+09), (0, 4), (0.0028, 31.1), (1, 220), (0, 40), (370, 90230), (80, 25283), (0, 2.9478e+05), (-6.6667e+08, 643), (1915, 1.2506e+05), (2, 18), (0, 1325), (1, 84), (40.8, 152.5), (0, 11470), (0, 82.59), (14, 738.74), (1, 3.29), (-1e+06, 2.009e+05), (-6.6667e+08, 3.2344e+07), (0.001, 303.42), (1, 6.3355e+06), (-2, 7), (0, 19), (22, 94.83), (5343, 25699), (63, 723), (68999, 2.0211e+13), (1.09, 6567.2), (6, 4.1201e+06), (0, 21), (1, 1459), (1018, 6151.8), (-1057, 995), (21661, 2.8642e+06), (10, 50), (0, 94.7), (527, 13950), (7.5, 70), (12, 1987), (1.3, 12), (0.001, 18885), (1338, 8.551e+06), (-500, 199), (19, 4053), (6358, 19403), (21.2, 72.8), (1, 109), (1.12, 24571), (5.59, 45050), (48, 1845), (1, 87), (1.01, 7), (30001, 4.0017e+05), (-2250, 0), (0, 70.21), (42001, 1.0901e+06), (60, 1.2047e+05), (0.02, 142.65), (75861, 8.4487e+08), (2, 2009), (1, 5465), (8.2591e+05, 2.1468e+09), (0, 2.2263e+06), (41, 6.0947e+05), (0, 54504), (1.3, 99999), (940, 8108), (1.2, 172), (1.9291e+07, 2.0211e+13), (0, 882), (1.1, 62.2), (1.4, 100), (56, 1905), (43513, 8.5648e+05), (5.09, 15.3), (13.19, 97.1), (3.1608e+05, 2.0221e+07), (1.06, 395), (0, 97), (4.29, 85.3), (9, 80.2), (5, 35), (37, 4.9542e+14), (1.19, 49.6), (-46, 64.94), (-7.99, 10.93), (6, 804), (0, 228), (0, 0.999), (0, 13), (308, 1160), (68.87, 917), (6, 100), (1, 1.058e+05), (3141, 92614), (5, 1.1111e+10), (1, 82), (6, 738), (1.07e+05, 7.5899e+07), (3, 62.5), (6, 3.906e+05), (1, 35)
2024-02-14 10:35:51 | DEBUG   | Uniform bin widths: 26756, 0.2788, 1159.5, 1.3532, 0.0209, 0.3822, 10.66, 11.482, 4.6516e+11, 8.3975, 0.2669, 10.341, 303.56, 0.0085, 49777, 0.3046, 0.2588, 61, 0.208, 82.867, 0.0084, 0.9083, 25.407, 1248.4, 1205.9, 117.09, 0.5974, 7.4968, 3.5032, 19317, 1.0397, 0.7115, 0.0024, 1.8663, 0.0781, 0.3081, 247.71, 214.32, 0.8765, 1594.9, 0.0211, 1231.1, 4.2283, 3.6844e+05, 3.415e+06, 57.376, 0.2692, 36.519, 49.556, 2.9837e+13, 3.2822, 0.3369, 5679.3, 0.0009, 4.04, 3.0508e+13, 647.68, 0.0782, 2939.5, 0.0748, 0.6033, 1.47, 4.5898e+05, 1.1351e+08, 0.7308, 323.93, 0.6891, 133.32, 8.7939e+06, 1750.1, 9.4747, 2.8, 0.9222, 6.5364, 8.0652, 0.5563, 48.628, 19.127, 74384, 0.0794, 1.7614, 317.83, 5926.6, 0.0519, 37.415, 0.0308, 0.0345, 0.1596, 5.7e+05, 5153.4, 95256, 2.1786e+13, 3139.4, 6.8505, 0.29, 0.2711, 164.32, 1.8704, 0.8333, 38.882, 15.112, 4.4231, 0.9375, 0.0605, 0.1184, 3.48, 0.0462, 0.1513, 100.13, 231.62, 0.9, 184.23, 0.4193, 71.189, 0.9495, 0.0058, 0.2654, 1.4762, 0.0542, 2.1854, 2.4726, 4.4444e+07, 805.65, 0.8177, 0.1953, 0.506, 0.8277, 0.0802, 0.7765, 0.0024, 6446.6, 804.41, 23.205, 0.181, 349.46, 0.3213, 1.1017, 26.736, 124.51, 0.1532, 0.609, 93.529, 137.99, 237.75, 9364.4, 1.5875, 16.42, 2.4643, 6.5849, 67.613, 7.8385e+06, 40.525, 0.7078, 1.1609, 1.3298, 0.2953, 87.229, 24.337, 1.2616, 0.0028, 6151.9, 4468.6, 1875, 0.4182, 17.113, 0.8965, 0.2171, 46.765, 0.8301, 2.5433e+13, 0.2259, 1.8213e+12, 4.3983, 58.244, 21.4, 8.3148, 1.1521, 3.1917, 6.2132, 26.583, 4060.3, 402.05, 6.25e+06, 1.97, 3.1579e+11, 0.2136, 24.505, 1.6374, 3.3196, 52.237, 29.615, 850.55, 60.961, 0.3646, 1.0757, 206.57, 1.8156, 6.8394e+07, 0.0099, 0.5271, 1.2373, 0.5882, 416.02, 336.04, 706.9, 3.0303e+07, 794.48, 0.186, 3.0671, 0.5685, 0.7979, 337.35, 0.2708, 5.662, 0.0073, 14128, 3.1067e+06, 9.1945, 91820, 0.2432, 0.2209, 1.087, 139.42, 16.5, 5.1296e+10, 59.154, 76299, 0.0652, 5.951, 90.067, 43.66, 19207, 0.5063, 0.3728, 77.144, 0.6649, 10.395, 0.0843, 460.62, 59372, 17.475, 34.186, 271.77, 0.4195, 1.0385, 234, 346.5, 13.823, 2.15, 0.0545, 6984.3, 125, 0.267, 26202, 560.04, 2.3772, 3.0608e+06, 62.719, 23.654, 1.3412e+08, 5679.4, 4836.7, 2369.8, 1265.8, 135.25, 1.4475, 2.8872e+11, 17.294, 0.4664, 0.4502, 42.023, 5419.8, 0.1001, 0.5277, 1.3359e+05, 3.9394, 3.0312, 0.8618, 0.698, 0.2857, 8.6915e+12, 1.3447, 2.9984, 0.8226, 30.692, 0.4101, 0.0035, 0.2203, 26.625, 12.659, 0.6861, 912.09, 538.99, 3.003e+08, 0.7232, 7.3939, 1.9139e+05, 0.5459, 4595.2, 0.1417
2024-02-14 10:35:51 | DEBUG   | Predicted (rebinning) index size: 121.75 MB
2024-02-14 10:35:51 | INFO    | Clustered 68313 histograms into 300 clusters in 3.68s
2024-02-14 10:35:51 | TRACE   | total_time, 3.6812397371977568
2024-02-14 10:35:51 | DEBUG   | Saving output
2024-02-14 10:35:52 | DEBUG   | Saved clustering to data/open_data_usa/clusterings/microbenchmarks/k300-b50000.zst
