2024-02-02 03:30:14 | DEBUG   | {'input': PosixPath('data/gittables/histograms.zst'), 'output': 'data/gittables/clusterings/runtime_benchmark/k220-n50000.zst', 'feature_output': None, 'algorithm': 'kmeans', 'n_cluster_range': [220, 220], 'n_global_bins': 50000, 'transform': 'quantile', 'quantile_range': (0.25, 0.75), 'use_umap': False, 'alpha': 1.0, 'workers': 112, 'seed': 42, 'log_level': 'INFO', 'log_file': PosixPath('logs/runtime_benchmark/indexing/gittables-clustering-k220-2.log')}
2024-02-02 03:30:14 | DEBUG   | Loading histograms from data/gittables/histograms.zst
2024-02-02 03:30:49 | DEBUG   | Computing features
2024-02-02 03:32:07 | DEBUG   | Computing feature clustering
2024-02-02 03:32:14 | DEBUG   | Score for 220 clusters: 8794048.492652174
2024-02-02 03:32:14 | DEBUG   | Assigning histograms to clusters
2024-02-02 03:32:16 | DEBUG   | Computing cluster bins
2024-02-02 03:32:34 | DEBUG   | Number of clusters: 220
2024-02-02 03:32:34 | DEBUG   | Histograms per cluster: [58389, 32698, 87114, 30898, 27978, 25051, 5682, 7742, 20368, 13338, 32985, 10195, 34707, 50133, 48812, 28872, 13692, 23583, 35229, 9602, 16961, 18712, 20372, 8653, 16753, 24560, 5942, 15729, 18851, 26949, 41359, 19591, 18285, 34628, 15894, 51910, 9669, 30733, 14209, 33383, 26480, 18595, 38452, 45501, 17382, 6144, 15468, 53135, 19522, 6711, 3681, 26796, 19957, 17907, 26932, 30043, 46261, 9943, 9477, 24488, 3712, 13128, 136852, 22125, 58488, 19949, 25813, 14655, 21717, 10936, 54104, 17266, 21418, 59287, 6231, 25307, 18808, 1953, 13342, 52625, 13733, 36721, 104542, 18283, 27436, 30806, 32765, 5830, 11128, 6573, 19144, 17677, 29794, 9848, 27728, 19322, 28204, 11842, 16046, 5187, 23549, 14053, 26179, 11719, 14158, 31129, 44202, 26417, 11609, 33390, 8186, 9535, 9751, 12184, 15588, 2493, 29258, 37873, 2854, 20523, 20970, 34893, 12549, 19603, 20217, 37972, 53472, 33899, 17190, 20126, 10616, 19438, 35423, 19001, 11876, 9690, 14040, 3426, 19018, 5197, 47360, 34605, 24566, 42255, 13525, 4855, 26916, 8281, 20904, 14023, 21788, 28556, 35674, 9697, 16210, 77356, 15443, 13562, 4077, 50159, 19330, 10508, 7406, 24362, 38125, 23466, 18380, 31626, 44044, 12832, 13051, 15718, 6672, 13698, 23828, 30388, 23169, 23214, 16959, 21429, 8294, 22814, 28986, 11860, 11050, 29509, 7726, 16108, 12092, 40281, 23805, 12112, 26099, 20918, 38274, 5664, 11627, 23395, 24265, 30579, 24126, 9988, 15986, 13087, 48848, 6256, 20774, 19302, 4590, 8452, 15606, 6577, 3895, 5910, 17192, 15374, 26208, 7562, 34678, 3056]
2024-02-02 03:32:34 | DEBUG   | Bins per cluster: [581, 325, 868, 307, 278, 249, 56, 77, 202, 132, 328, 101, 345, 499, 486, 287, 136, 235, 351, 95, 169, 186, 203, 86, 166, 244, 59, 156, 187, 268, 412, 195, 182, 345, 158, 517, 96, 306, 141, 332, 263, 185, 383, 453, 173, 61, 154, 529, 194, 66, 36, 267, 198, 178, 268, 299, 460, 99, 94, 244, 36, 130, 1363, 220, 582, 198, 257, 146, 216, 108, 539, 172, 213, 590, 62, 252, 187, 19, 132, 524, 136, 365, 1041, 182, 273, 306, 326, 58, 110, 65, 190, 176, 296, 98, 276, 192, 281, 118, 159, 51, 234, 140, 260, 116, 141, 310, 440, 263, 115, 332, 81, 95, 97, 121, 155, 24, 291, 377, 28, 204, 208, 347, 125, 195, 201, 378, 532, 337, 171, 200, 105, 193, 352, 189, 118, 96, 139, 34, 189, 51, 471, 344, 244, 421, 134, 48, 268, 82, 208, 139, 217, 284, 355, 96, 161, 770, 153, 135, 40, 499, 192, 104, 73, 242, 379, 233, 183, 315, 438, 127, 130, 156, 66, 136, 237, 302, 230, 231, 168, 213, 82, 227, 288, 118, 110, 294, 76, 160, 120, 401, 237, 120, 260, 208, 381, 56, 115, 233, 241, 304, 240, 99, 159, 130, 486, 62, 207, 192, 45, 84, 155, 65, 38, 58, 171, 153, 261, 75, 345, 30]
2024-02-02 03:32:34 | DEBUG   | Cluster ranges: (1.5679e+05, 8.3337e+05), (0, 39.8), (0, 0.9999), (0, 163.51), (8.751e+06, 1.2552e+09), (30, 182), (3.7018e+06, 1.1857e+09), (3.3, 54.437), (-3.2523e+06, 2.853), (-4224, 171.64), (1.11, 4042), (0.045, 18), (4, 6.0567e+06), (0, 2), (112.3, 7.3563e+05), (0, 37), (0, 2.4904e+06), (1.8351e+05, 1.5346e+06), (2.9025e+06, 6.4262e+06), (-119.26, 21), (2, 185.75), (-2.6817e+14, 1), (0.0035, 3.5945), (0.0001, 88.658), (-357.4, 1), (0, 9.8), (-9.0226e+11, 3.7888e+06), (1.2879e+09, 3.632e+14), (0, 85.7), (0.0001, 1), (0, 19.947), (1.3578e+09, 2.0151e+13), (22310, 1.3147e+06), (8.2118e+06, 1.2763e+09), (-372.48, 107.81), (0, 11.953), (-10003, 4.9067), (6.8809e+05, 1.6521e+06), (50, 1.1801e+06), (0, 882), (2.4564e+06, 6.6623e+06), (1.0001, 12.935), (0, 18.8), (7.3531e+06, 1.2147e+09), (0, 39), (2.5266e+05, 7.1676e+15), (-4589.9, 5004), (0, 4), (32, 733.69), (140.66, 2.8546e+05), (1.3809e+09, 1.197e+15), (1.01, 41), (64, 35303), (0.0001, 182.43), (0, 76.338), (0, 99), (5.559e+06, 1.2912e+09), (-139.7, 59), (59, 261), (0.0001, 35.212), (-9.2234e+14, 4.5879e+15), (20, 76), (0, 1), (43382, 8.8606e+05), (1.2417e+09, 1.3315e+09), (1.2354e+06, 3.2551e+06), (0, 136), (0.0001, 14), (0, 5), (1.4166e+09, 1.1971e+15), (2995, 5.3407e+05), (281.8, 6.0091e+05), (0.0001, 52), (1.3016e+09, 1.582e+12), (0.0004, 38.824), (0, 36), (0.0001, 674.98), (-1e+13, 132), (2, 66), (0, 1), (0, 7965), (0.2, 6), (0, 0.714), (-1.51e+12, 6.0635e+05), (17, 517.41), (-2394, 0.9764), (0, 228), (0.0001, 2.2492e+06), (0.03, 102), (-34.28, 22.08), (0, 92), (3.1238e+05, 1.3324e+06), (1.1727e+06, 2.9776e+06), (120, 2.522e+05), (3.4362e+06, 9.0136e+06), (0, 21.4), (62, 5274.3), (0.0015, 8.7074), (-97.319, 151), (37.885, 108.21), (-2949.1, 834), (-2.3105e+11, 1.275e+09), (6.7264e+05, 1.7749e+06), (1.0281, 78), (1840, 1.5556e+06), (1.0391e+06, 2.4322e+06), (0, 5.5), (2.9734e+06, 7.3907e+06), (0, 20), (3, 346.02), (5.2133e+05, 8.7195e+06), (3, 38), (0.0001, 11987), (-17.933, 4), (0.0001, 3), (0.0001, 4.7838e+15), (0.0001, 29.338), (6.7738e+05, 2.4803e+06), (-5935.9, 27.5), (0, 36), (38.57, 265.65), (0, 9.986), (1.0003, 20), (282.32, 4.2697e+05), (0, 108), (0, 20), (1.3132e+09, 1.5664e+14), (0, 499), (-64.6, 53.538), (2.7567e+05, 1.055e+06), (61, 2.1403e+05), (68.588, 6.08e+15), (1.2921e+09, 8.9961e+15), (5.0001e+05, 2.9187e+06), (-68.1, 99.334), (1.4265e+09, 1.3626e+12), (1.0053, 45080), (-2400.9, 3.4706), (39.857, 148.48), (0, 8.992e+15), (1.2326e+09, 1.3201e+09), (0, 61), (0.0001, 7.6026), (6.1355e+06, 1.2009e+09), (1.03, 118), (0.0078, 23.584), (1.1, 7), (0.0001, 21.1), (0.0001, 0.6306), (3.054e+06, 1.174e+09), (0, 60), (0, 25.484), (0, 10), (-4.4075e+05, 29829), (0.0001, 91), (0, 4), (4, 122.01), (0.0001, 10), (1.7707e+06, 1.2342e+09), (0, 1.44), (0, 4.8), (0, 21.8), (0, 8.2), (1.001, 545), (1.696e+06, 3.6747e+06), (0, 4117), (0.0001, 4249.8), (0, 36.4), (3.4435e+06, 7.8228e+06), (1876, 3.0214e+05), (-160, 279), (1.6031e+06, 5.728e+06), (-4024.8, 89.7), (-234.87, 90.4), (1.5407e+06, 1.2047e+09), (0, 38.9), (0, 118.8), (28434, 6.1257e+06), (0, 114), (25, 629.72), (9.8927, 39.285), (3.6434e+05, 1.3758e+06), (89, 2.6888e+05), (-35.465, 32), (0.0001, 1), (0, 65), (2.488e+06, 7.967e+15), (0.0001, 143.85), (2.5, 1.8795e+06), (0, 12.5), (0, 57.1), (366, 2.9889e+05), (2.2612e+05, 2.1303e+06), (4.9562e+06, 1.2608e+09), (1.7521e+06, 3.6466e+06), (-8.6402e+08, 6), (1.889e+06, 8.445e+06), (4.9568e+06, 1.2346e+09), (51, 379), (2059.5, 9.9e+05), (0, 65.779), (0.0001, 22), (0, 41330), (0, 14.6), (8.3775e+06, 1.2743e+09), (0, 36.4), (6.9482e+05, 2.5741e+06), (0, 178.6), (1, 9.9924), (0, 4.971), (0.0001, 11), (0.1, 50), (-4.8239e+08, 1), (169, 55059), (1.0006e+05, 7.6536e+05), (0.0001, 300), (0, 100), (0.0001, 136), (0, 324), (-13.459, 18)
2024-02-02 03:32:34 | DEBUG   | Uniform bin widths: 1164.5, 0.1225, 0.0012, 0.5326, 4.4835e+06, 0.6104, 2.1108e+07, 0.6641, 16100, 33.3, 12.32, 0.1778, 17556, 0.004, 1513.4, 0.1289, 18312, 5749.2, 10039, 1.4764, 1.0873, 1.4418e+12, 0.0177, 1.0309, 2.159, 0.0402, 1.5293e+10, 2.3282e+12, 0.4583, 0.0037, 0.0484, 1.0333e+11, 7100.9, 3.6755e+06, 3.0398, 0.0231, 104.25, 3150.3, 8369.3, 2.6566, 15992, 0.0645, 0.0491, 2.6651e+06, 0.2254, 1.175e+14, 62.298, 0.0076, 3.6169, 4323, 3.325e+13, 0.1498, 177.97, 1.0249, 0.2848, 0.3311, 2.7948e+06, 2.0071, 2.1489, 0.1443, 1.5306e+14, 0.4308, 0.0007, 3830.4, 1.5418e+05, 10201, 0.5292, 0.0959, 0.0231, 1.1084e+13, 985.3, 3492, 0.2441, 2.6792e+09, 0.6262, 0.1429, 3.6095, 5.2632e+11, 0.4848, 0.0019, 58.566, 0.0159, 0.0007, 8.2967e+09, 1.833, 7.8266, 0.6994, 38779, 0.927, 0.8671, 0.4842, 5795.8, 6097.7, 2572.2, 20208, 0.1115, 18.549, 0.0738, 1.5618, 1.379, 16.167, 1.6594e+09, 4239.6, 0.6636, 11019, 4493.9, 0.0125, 16796, 0.1739, 1.0332, 1.0121e+05, 0.3684, 123.58, 0.1813, 0.0194, 1.9933e+14, 0.1008, 4782.3, 212.98, 0.1765, 1.0917, 0.0288, 0.152, 2188.1, 0.5373, 0.0529, 2.9444e+11, 1.4807, 0.6909, 3896.4, 2037.8, 3.1503e+13, 2.5557e+13, 12797, 1.4189, 1.4179e+10, 324.31, 70.716, 0.5747, 1.7631e+14, 1.8563e+05, 0.1773, 0.0312, 2.838e+06, 0.8729, 0.4912, 0.022, 0.2573, 0.003, 8.4243e+06, 0.2765, 0.0897, 0.0282, 4901.9, 0.5652, 0.0052, 0.7713, 0.0741, 3.0812e+07, 0.0029, 0.025, 0.2096, 0.1123, 2.2479, 5220.8, 17.669, 23.223, 0.1156, 9998.5, 2364.3, 3.3769, 26442, 62.341, 2.3917, 5.0767e+06, 0.1288, 0.5165, 26395, 0.6786, 2.8391, 0.3584, 4455.7, 933.29, 0.5717, 0.0091, 0.2211, 1.0483e+14, 0.8991, 15663, 0.0312, 0.2409, 2487.7, 7323.7, 6.0375e+06, 4972.4, 1.5429e+07, 57009, 5.2773e+06, 1.361, 3249.8, 0.2741, 0.2222, 259.94, 0.1123, 2.6047e+06, 0.5871, 9078.5, 0.9302, 0.1998, 0.0592, 0.071, 0.7677, 1.2694e+07, 946.38, 3890.6, 1.9608, 0.3831, 1.8133, 0.9391, 1.0486
2024-02-02 03:32:34 | DEBUG   | Predicted (rebinning) index size: 10582.45 MB
2024-02-02 03:32:34 | INFO    | Clustered 5017619 histograms into 220 clusters in 105.47s
2024-02-02 03:32:34 | TRACE   | total_time, 105.46544583514333
2024-02-02 03:32:34 | DEBUG   | Saving output
2024-02-02 03:33:45 | DEBUG   | Saved clustering to data/gittables/clusterings/runtime_benchmark/k220-n50000.zst
